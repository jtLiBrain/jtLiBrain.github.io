<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1514px" height="962px" viewBox="-0.5 -0.5 1514 962" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-06-29T14:25:11.037Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 11_2_3) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.1.8 Chrome/87.0.4280.88 Electron/11.1.1 Safari/537.36&quot; etag=&quot;IhFJP86lwQam8SARhK4u&quot; version=&quot;14.1.8&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;yyUBczvVzc225_GYnQie&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="130" y="320" width="1380" height="320" fill="none" stroke="#ff0000" stroke-width="5" stroke-dasharray="15 15" pointer-events="all"/><path d="M 820 955 L 820 5" fill="none" stroke="#666666" stroke-width="10" stroke-miterlimit="10" pointer-events="stroke"/><rect x="160" y="115" width="610" height="380" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><rect x="260" y="332.26" width="490" height="143.74" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="160" y="523" width="610" height="342" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><rect x="260" y="545" width="490" height="80" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="280" y="557.5" width="220" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 581px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Fetch <b><font style="font-size: 15px">R1</font></b> partitions from all mappers</div></div></div></foreignObject><text x="390" y="585" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Fetch R1 partitions from all mappers</text></switch></g><path d="M 607.95 558.84 C 607.95 556.38 609.74 554.38 611.93 554.38 L 666.02 554.38 C 668.22 554.38 670 556.38 670 558.84 L 670 594.51 C 660.09 589.8 648.89 589.8 638.98 594.51 C 629.06 599.21 617.87 599.21 607.95 594.51 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 603.98 563.3 C 603.98 562.11 604.4 560.98 605.14 560.14 C 605.89 559.31 606.9 558.84 607.95 558.84 L 662.05 558.84 C 663.1 558.84 664.11 559.31 664.86 560.14 C 665.6 560.98 666.02 562.11 666.02 563.3 L 666.02 598.96 C 656.11 594.26 644.91 594.26 635 598.96 C 625.09 603.67 613.89 603.67 603.98 598.96 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 600 567.76 C 600 565.29 601.78 563.3 603.98 563.3 L 658.07 563.3 C 660.26 563.3 662.05 565.29 662.05 567.76 L 662.05 603.42 C 652.13 598.71 640.94 598.71 631.02 603.42 C 621.11 608.13 609.91 608.13 600 603.42 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="160" y="571.25" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 98px; height: 1px; padding-top: 581px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Copy Phase</div></div></div></foreignObject><text x="258" y="585" fill="#666666" font-family="Helvetica" font-size="14px" text-anchor="end" font-weight="bold">Copy Phase</text></switch></g><rect x="260" y="656.01" width="490" height="80" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="280" y="672.25" width="220" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 696px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Sort and Merge all <font style="font-size: 15px"><b>R1</b></font> partitions by key with <font color="#ff00ff">job.getOutputKeyComparator()</font></div></div></div></foreignObject><text x="390" y="700" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Sort and Merge all R1 partitions by...</text></switch></g><rect x="160" y="686" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 98px; height: 1px; padding-top: 696px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Sort Phase</div></div></div></foreignObject><text x="258" y="700" fill="#666666" font-family="Helvetica" font-size="14px" text-anchor="end" font-weight="bold">Sort Phase</text></switch></g><path d="M 600 604.85 L 505.28 668.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 500.93 671.63 L 504.78 664.81 L 505.28 668.69 L 508.69 670.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="260" y="753" width="490" height="80" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="280" y="769.25" width="310" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 308px; height: 1px; padding-top: 793px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Group record by key with <font color="#ff00ff">job.getOutputValueGroupingComparator()</font>，and invoke Reducer.<font color="#0000ff">reduce()</font> method for each group of record</div></div></div></foreignObject><text x="435" y="797" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Group record by key with job.getOutputValueGroupingC...</text></switch></g><rect x="160" y="783" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 98px; height: 1px; padding-top: 793px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reduce Phase</div></div></div></foreignObject><text x="258" y="797" fill="#666666" font-family="Helvetica" font-size="14px" text-anchor="end" font-weight="bold">Reduce Phase</text></switch></g><path d="M 618.34 716.19 L 593 763.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590.53 768.26 L 590.74 760.44 L 593 763.63 L 596.91 763.74 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="630" y="773" width="60" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 636 773 L 636 813 M 684 773 L 684 813" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 46px; height: 1px; padding-top: 793px; margin-left: 637px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#0000ff">reduce()</font></div></div></div></foreignObject><text x="660" y="797" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">reduce()</text></switch></g><path d="M 590 793 L 623.63 793" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 628.88 793 L 621.88 796.5 L 623.63 793 L 621.88 789.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="175" y="845" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 855px; margin-left: 176px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reducer R1</div></div></div></foreignObject><text x="225" y="860" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle" font-weight="bold">Reducer R1</text></switch></g><path d="M 710 900 C 712.76 900 715 902.24 715 905 L 715 947.03 Q 687.5 934.94 660 947.03 Q 632.5 959.12 605 947.03 L 605 906.72 L 605 905 C 605 902.24 607.24 900 610 900 Z" fill="#f5f5f5" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 927px; margin-left: 606px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">R1 Output</div></div></div></foreignObject><text x="660" y="930" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">R1 Output</text></switch></g><path d="M 660 813 L 660 893.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 660 898.88 L 656.5 891.88 L 660 893.63 L 663.5 891.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="260" y="151.25" width="490" height="153.75" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><path d="M 580 210.5 L 525.52 241.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 520.97 244.44 L 525.29 237.92 L 525.52 241.83 L 528.78 243.99 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="170" y="115" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 125px; margin-left: 171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Mapper M1</div></div></div></foreignObject><text x="220" y="130" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle" font-weight="bold">Mapper M1</text></switch></g><path d="M 440 15 C 442.76 15 445 17.24 445 20 L 445 62.03 Q 417.5 49.94 390 62.03 Q 362.5 74.13 335 62.03 L 335 21.72 L 335 20 C 335 17.24 337.24 15 340 15 Z" fill="#f5f5f5" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 42px; margin-left: 336px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Input Split</div></div></div></foreignObject><text x="390" y="45" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">Input Split</text></switch></g><path d="M 390 68.75 L 390 163.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 390 168.38 L 386.5 161.38 L 390 163.13 L 393.5 161.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 500 193.24 L 540.06 193.24 L 573.63 193.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 578.88 193.35 L 571.87 196.83 L 573.63 193.33 L 571.89 189.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="280" y="169.5" width="220" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 193px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Read every record, and invoke Mapper.<font color="#0000ff">map()</font> with the key and value.</div></div></div></foreignObject><text x="390" y="197" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Read every record, and invoke Mapper...</text></switch></g><rect x="580" y="173.25" width="60" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 586 173.25 L 586 213.25 M 634 173.25 L 634 213.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 46px; height: 1px; padding-top: 193px; margin-left: 587px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#0000ff">map()</font></div></div></div></foreignObject><text x="610" y="197" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">map()</text></switch></g><path d="M 600 268.76 L 620.06 268.76 L 623.64 268.55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 628.88 268.24 L 622.1 272.15 L 623.64 268.55 L 621.69 265.16 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="280" y="245" width="320" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 269px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Partition every record by Partitioner specified by "<font color="#ff00ff">mapreduce.job.partitioner.class</font>" or default <font color="#ff00ff">HashPartitioner</font>, and collect it into intermediate storage.</div></div></div></foreignObject><text x="440" y="272" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Partition every record by Partitioner specified by "m...</text></switch></g><path d="M 666.95 346.71 C 666.95 344.25 668.74 342.25 670.93 342.25 L 725.02 342.25 C 727.22 342.25 729 344.25 729 346.71 L 729 382.38 C 719.09 377.67 707.89 377.67 697.98 382.38 C 688.06 387.08 676.87 387.08 666.95 382.38 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 662.98 351.17 C 662.98 349.98 663.4 348.85 664.14 348.01 C 664.89 347.18 665.9 346.71 666.95 346.71 L 721.05 346.71 C 722.1 346.71 723.11 347.18 723.86 348.01 C 724.6 348.85 725.02 349.98 725.02 351.17 L 725.02 386.83 C 715.11 382.13 703.91 382.13 694 386.83 C 684.09 391.54 672.89 391.54 662.98 386.83 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 659 355.63 C 659 353.16 660.78 351.17 662.98 351.17 L 717.07 351.17 C 719.26 351.17 721.05 353.16 721.05 355.63 L 721.05 391.29 C 711.13 386.58 699.94 386.58 690.02 391.29 C 680.11 396 668.91 396 659 391.29 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 369px; margin-left: 660px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">spill files</div></div></div></foreignObject><text x="694" y="373" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">spill files</text></switch></g><path d="M 630 250 C 630 247.24 652.39 245 680 245 C 693.26 245 705.98 245.53 715.36 246.46 C 724.73 247.4 730 248.67 730 250 L 730 286.25 C 730 289.01 707.61 291.25 680 291.25 C 652.39 291.25 630 289.01 630 286.25 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 730 250 C 730 252.76 707.61 255 680 255 C 652.39 255 630 252.76 630 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 273px; margin-left: 631px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MapOutputBuffer</div></div></div></foreignObject><text x="680" y="276" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">MapOutputBuffer</text></switch></g><path d="M 659.72 291.25 L 619.2 337.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 615.74 341.41 L 617.72 333.84 L 619.2 337.46 L 622.98 338.45 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 615 367.94 L 652.63 368.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 657.88 368.58 L 650.83 371.98 L 652.63 368.5 L 650.94 364.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="275" y="342.25" width="340" height="46.25" rx="6.94" ry="6.94" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 365px; margin-left: 276px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Whenever is necessary, spill the datum in Mem into a temp file, record in each spill file is sorted by partition first and then by the <font color="#ff00ff">record-key with job.getOutputKeyComparator()</font>.</div></div></div></foreignObject><text x="445" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Whenever is necessary, spill the datum in Mem into a temp...</text></switch></g><path d="M 530 435.47 L 594.53 435.47 L 652.63 435.36" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 657.88 435.35 L 650.89 438.87 L 652.63 435.36 L 650.88 431.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="360" y="412.26" width="170" height="46.25" rx="6.94" ry="6.94" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 435px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Merge into one file.</div></div></div></foreignObject><text x="445" y="439" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Merge into one file.</text></switch></g><path d="M 724 408.5 C 726.76 408.5 729 410.74 729 413.5 L 729 455.53 Q 711.5 443.44 694 455.53 Q 676.5 467.63 659 455.53 L 659 415.22 L 659 413.5 C 659 410.74 661.24 408.5 664 408.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 659 391.16 L 536.28 411.23" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 531.1 412.08 L 537.45 407.5 L 536.28 411.23 L 538.58 414.4 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="160" y="213.25" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 98px; height: 1px; padding-top: 223px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Map Phase</div></div></div></foreignObject><text x="258" y="227" fill="#666666" font-family="Helvetica" font-size="14px" text-anchor="end" font-weight="bold">Map Phase</text></switch></g><rect x="160" y="388.5" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-end; width: 98px; height: 1px; padding-top: 399px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Sort Phase</div></div></div></foreignObject><text x="258" y="403" fill="#666666" font-family="Helvetica" font-size="14px" text-anchor="end" font-weight="bold">Sort Phase</text></switch></g><path d="M 670.25 432.25 L 717.75 432.25" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" transform="rotate(90,694,432.25)" pointer-events="all"/><rect x="655" y="425.38" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 435px; margin-left: 656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Part1  Part2</div></div></div></foreignObject><text x="695" y="439" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Part1  Part2</text></switch></g><path d="M 500 581.24 L 550.06 581.24 L 593.63 581.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 598.88 581.35 L 591.87 584.83 L 593.63 581.34 L 591.89 577.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 500 696.06 L 549.47 696.06 L 592.63 695.65" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 597.88 695.6 L 590.92 699.17 L 592.63 695.65 L 590.85 692.17 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 675 445.38 L 508.51 552.05" fill="none" stroke="#0000ff" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 502.82 555.69 L 507.97 547.05 L 508.51 552.05 L 512.83 554.62 Z" fill="#0000ff" stroke="#0000ff" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><rect x="870" y="115" width="611" height="380" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><rect x="892" y="332.26" width="490" height="143.74" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="870" y="523" width="611" height="342" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><rect x="892" y="545" width="490" height="80" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="912" y="557.5" width="220" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 581px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Fetch <b><font style="font-size: 15px">R2</font></b> partitions from all mappers</div></div></div></foreignObject><text x="1022" y="585" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Fetch R2 partitions from all mappers</text></switch></g><path d="M 1239.95 558.84 C 1239.95 556.38 1241.74 554.38 1243.93 554.38 L 1298.02 554.38 C 1300.22 554.38 1302 556.38 1302 558.84 L 1302 594.51 C 1292.09 589.8 1280.89 589.8 1270.98 594.51 C 1261.06 599.21 1249.87 599.21 1239.95 594.51 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1235.98 563.3 C 1235.98 562.11 1236.4 560.98 1237.14 560.14 C 1237.89 559.31 1238.9 558.84 1239.95 558.84 L 1294.05 558.84 C 1295.1 558.84 1296.11 559.31 1296.86 560.14 C 1297.6 560.98 1298.02 562.11 1298.02 563.3 L 1298.02 598.96 C 1288.11 594.26 1276.91 594.26 1267 598.96 C 1257.09 603.67 1245.89 603.67 1235.98 598.96 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1232 567.76 C 1232 565.29 1233.78 563.3 1235.98 563.3 L 1290.07 563.3 C 1292.26 563.3 1294.05 565.29 1294.05 567.76 L 1294.05 603.42 C 1284.13 598.71 1272.94 598.71 1263.02 603.42 C 1253.11 608.13 1241.91 608.13 1232 603.42 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1383" y="571.25" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 581px; margin-left: 1385px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Copy Phase</div></div></div></foreignObject><text x="1385" y="585" fill="#666666" font-family="Helvetica" font-size="14px" font-weight="bold">Copy Phase</text></switch></g><rect x="892" y="656.01" width="490" height="80" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="912" y="672.25" width="220" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 696px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Sort and Merge all <font style="font-size: 15px"><b>R2</b></font> partitions by key with <font color="#ff00ff">job.getOutputKeyComparator()</font></div></div></div></foreignObject><text x="1022" y="700" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Sort and Merge all R2 partitions by...</text></switch></g><rect x="1383" y="686" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 696px; margin-left: 1385px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Sort Phase</div></div></div></foreignObject><text x="1385" y="700" fill="#666666" font-family="Helvetica" font-size="14px" font-weight="bold">Sort Phase</text></switch></g><path d="M 1232 604.85 L 1137.28 668.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1132.93 671.63 L 1136.78 664.81 L 1137.28 668.69 L 1140.69 670.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="892" y="753" width="490" height="80" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><rect x="912" y="769.25" width="310" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 308px; height: 1px; padding-top: 793px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Group record by key with <font color="#ff00ff">job.getOutputValueGroupingComparator()</font>，and invoke Reducer.<font color="#0000ff">reduce()</font> method for each group of record</div></div></div></foreignObject><text x="1067" y="797" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Group record by key with job.getOutputValueGroupingC...</text></switch></g><rect x="1383" y="783" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 793px; margin-left: 1385px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reduce Phase</div></div></div></foreignObject><text x="1385" y="797" fill="#666666" font-family="Helvetica" font-size="14px" font-weight="bold">Reduce Phase</text></switch></g><path d="M 1252.1 718.23 L 1225.24 763.77" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1222.57 768.29 L 1223.11 760.48 L 1225.24 763.77 L 1229.14 764.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1262" y="773" width="60" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1268 773 L 1268 813 M 1316 773 L 1316 813" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 46px; height: 1px; padding-top: 793px; margin-left: 1269px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#0000ff">reduce()</font></div></div></div></foreignObject><text x="1292" y="797" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">reduce()</text></switch></g><path d="M 1222 793 L 1255.63 793" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1260.88 793 L 1253.88 796.5 L 1255.63 793 L 1253.88 789.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1367" y="845" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 855px; margin-left: 1368px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reducer R2</div></div></div></foreignObject><text x="1417" y="860" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle" font-weight="bold">Reducer R2</text></switch></g><path d="M 1342 900 C 1344.76 900 1347 902.24 1347 905 L 1347 947.03 Q 1319.5 934.94 1292 947.03 Q 1264.5 959.12 1237 947.03 L 1237 906.72 L 1237 905 C 1237 902.24 1239.24 900 1242 900 Z" fill="#f5f5f5" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 927px; margin-left: 1238px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">R2 Output</div></div></div></foreignObject><text x="1292" y="930" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">R2 Output</text></switch></g><path d="M 1292 813 L 1292 893.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1292 898.88 L 1288.5 891.88 L 1292 893.63 L 1295.5 891.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="892" y="151.25" width="490" height="153.75" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><path d="M 1212 210.5 L 1157.52 241.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1152.97 244.44 L 1157.29 237.92 L 1157.52 241.83 L 1160.78 243.99 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1371" y="115" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 125px; margin-left: 1372px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 17px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Mapper M2</div></div></div></foreignObject><text x="1421" y="130" fill="#000000" font-family="Helvetica" font-size="17px" text-anchor="middle" font-weight="bold">Mapper M2</text></switch></g><path d="M 1072 15 C 1074.76 15 1077 17.24 1077 20 L 1077 62.03 Q 1049.5 49.94 1022 62.03 Q 994.5 74.13 967 62.03 L 967 21.72 L 967 20 C 967 17.24 969.24 15 972 15 Z" fill="#f5f5f5" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 42px; margin-left: 968px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Input Split</div></div></div></foreignObject><text x="1022" y="45" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">Input Split</text></switch></g><path d="M 1022 68.75 L 1022 163.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1022 168.38 L 1018.5 161.38 L 1022 163.13 L 1025.5 161.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1132 193.24 L 1172.06 193.24 L 1205.63 193.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1210.88 193.35 L 1203.87 196.83 L 1205.63 193.33 L 1203.89 189.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="912" y="169.5" width="220" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 193px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Read every record, and invoke Mapper.<font color="#0000ff">map()</font> with the key and value.</div></div></div></foreignObject><text x="1022" y="197" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Read every record, and invoke Mapper...</text></switch></g><rect x="1212" y="173.25" width="60" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1218 173.25 L 1218 213.25 M 1266 173.25 L 1266 213.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 46px; height: 1px; padding-top: 193px; margin-left: 1219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#0000ff">map()</font></div></div></div></foreignObject><text x="1242" y="197" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">map()</text></switch></g><path d="M 1232 268.76 L 1252.06 268.76 L 1255.64 268.55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1260.88 268.24 L 1254.1 272.15 L 1255.64 268.55 L 1253.69 265.16 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="912" y="245" width="320" height="47.5" rx="7.13" ry="7.13" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 269px; margin-left: 913px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Partition every record by Partitioner specified by "<font color="#ff00ff">mapreduce.job.partitioner.class</font>" or default <font color="#ff00ff">HashPartitioner</font>, and collect it into intermediate storage.</div></div></div></foreignObject><text x="1072" y="272" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Partition every record by Partitioner specified by "m...</text></switch></g><path d="M 1298.95 346.71 C 1298.95 344.25 1300.74 342.25 1302.93 342.25 L 1357.02 342.25 C 1359.22 342.25 1361 344.25 1361 346.71 L 1361 382.38 C 1351.09 377.67 1339.89 377.67 1329.98 382.38 C 1320.06 387.08 1308.87 387.08 1298.95 382.38 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1294.98 351.17 C 1294.98 349.98 1295.4 348.85 1296.14 348.01 C 1296.89 347.18 1297.9 346.71 1298.95 346.71 L 1353.05 346.71 C 1354.1 346.71 1355.11 347.18 1355.86 348.01 C 1356.6 348.85 1357.02 349.98 1357.02 351.17 L 1357.02 386.83 C 1347.11 382.13 1335.91 382.13 1326 386.83 C 1316.09 391.54 1304.89 391.54 1294.98 386.83 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1291 355.63 C 1291 353.16 1292.78 351.17 1294.98 351.17 L 1349.07 351.17 C 1351.26 351.17 1353.05 353.16 1353.05 355.63 L 1353.05 391.29 C 1343.13 386.58 1331.94 386.58 1322.02 391.29 C 1312.11 396 1300.91 396 1291 391.29 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 369px; margin-left: 1292px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">spill files</div></div></div></foreignObject><text x="1326" y="373" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">spill files</text></switch></g><path d="M 1262 250 C 1262 247.24 1284.39 245 1312 245 C 1325.26 245 1337.98 245.53 1347.36 246.46 C 1356.73 247.4 1362 248.67 1362 250 L 1362 286.25 C 1362 289.01 1339.61 291.25 1312 291.25 C 1284.39 291.25 1262 289.01 1262 286.25 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1362 250 C 1362 252.76 1339.61 255 1312 255 C 1284.39 255 1262 252.76 1262 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 273px; margin-left: 1263px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MapOutputBuffer</div></div></div></foreignObject><text x="1312" y="276" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">MapOutputBuffer</text></switch></g><path d="M 1291.72 291.25 L 1251.2 337.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1247.74 341.41 L 1249.72 333.84 L 1251.2 337.46 L 1254.98 338.45 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1247 367.94 L 1284.63 368.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1289.88 368.58 L 1282.83 371.98 L 1284.63 368.5 L 1282.94 364.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="907" y="342.25" width="340" height="46.25" rx="6.94" ry="6.94" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 365px; margin-left: 908px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Whenever is necessary, spill the datum in Mem into a temp file, record in each spill file is sorted by partition first and then by the <font color="#ff00ff">record-key with job.getOutputKeyComparator()</font>.</div></div></div></foreignObject><text x="1077" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Whenever is necessary, spill the datum in Mem into a temp...</text></switch></g><path d="M 1162 435.47 L 1226.53 435.47 L 1284.63 435.36" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1289.88 435.35 L 1282.89 438.87 L 1284.63 435.36 L 1282.88 431.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="992" y="412.26" width="170" height="46.25" rx="6.94" ry="6.94" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 435px; margin-left: 993px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Merge into one file.</div></div></div></foreignObject><text x="1077" y="439" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Merge into one file.</text></switch></g><path d="M 1356 408.5 C 1358.76 408.5 1361 410.74 1361 413.5 L 1361 455.53 Q 1343.5 443.44 1326 455.53 Q 1308.5 467.63 1291 455.53 L 1291 415.22 L 1291 413.5 C 1291 410.74 1293.24 408.5 1296 408.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1291 391.16 L 1168.28 411.23" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1163.1 412.08 L 1169.45 407.5 L 1168.28 411.23 L 1170.58 414.4 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1383" y="213.25" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 223px; margin-left: 1385px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Map Phase</div></div></div></foreignObject><text x="1385" y="227" fill="#666666" font-family="Helvetica" font-size="14px" font-weight="bold">Map Phase</text></switch></g><rect x="1383" y="388.5" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 98px; height: 1px; padding-top: 399px; margin-left: 1385px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #666666; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Sort Phase</div></div></div></foreignObject><text x="1385" y="403" fill="#666666" font-family="Helvetica" font-size="14px" font-weight="bold">Sort Phase</text></switch></g><path d="M 1302.25 432.25 L 1349.75 432.25" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" transform="rotate(90,1326,432.25)" pointer-events="all"/><rect x="1287" y="425.38" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 435px; margin-left: 1288px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Part1  Part2</div></div></div></foreignObject><text x="1327" y="439" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Part1  Part2</text></switch></g><path d="M 1132 581.24 L 1182.06 581.24 L 1225.63 581.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1230.88 581.35 L 1223.87 584.83 L 1225.63 581.34 L 1223.89 577.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1132 696.06 L 1183 696.06 L 1227.63 696.26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1232.88 696.29 L 1225.87 699.76 L 1227.63 696.26 L 1225.9 692.76 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307 445.38 L 509.99 567.84" fill="none" stroke="#0000ff" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 503.32 568.87 L 511.53 563.05 L 509.99 567.84 L 512.89 571.95 Z" fill="#0000ff" stroke="#0000ff" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 720 445 L 903.28 552.39" fill="none" stroke="#00cc00" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.11 555.8 L 899.07 555.14 L 903.28 552.39 L 903.62 547.37 Z" fill="#00cc00" stroke="#00cc00" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><path d="M 1347 445.38 L 1140.96 552.83" fill="none" stroke="#00cc00" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1134.97 555.95 L 1140.87 547.8 L 1140.96 552.83 L 1145.03 555.78 Z" fill="#00cc00" stroke="#00cc00" stroke-width="3" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="475" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 485px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 18px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Shuffle Stage</div></div></div></foreignObject><text x="60" y="490" fill="#FF0000" font-family="Helvetica" font-size="18px" text-anchor="middle" font-weight="bold">Shuffle Stage</text></switch></g><path d="M 660 669 C 662.76 669 665 671.24 665 674 L 665 708.78 Q 649.5 701.67 634 708.78 Q 618.5 715.89 603 708.78 L 603 672.95 L 603 674 C 603 671.24 605.24 669 608 669 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 656 673.73 C 658.76 673.73 661 675.97 661 678.73 L 661 713.51 Q 645.5 706.4 630 713.51 Q 614.5 720.62 599 713.51 L 599 677.68 L 599 678.73 C 599 675.97 601.24 673.73 604 673.73 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1295 669.77 C 1297.76 669.77 1300 672.01 1300 674.77 L 1300 709.55 Q 1284.5 702.44 1269 709.55 Q 1253.5 716.66 1238 709.55 L 1238 673.72 L 1238 674.77 C 1238 672.01 1240.24 669.77 1243 669.77 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1291 674.5 C 1293.76 674.5 1296 676.74 1296 679.5 L 1296 714.28 Q 1280.5 707.17 1265 714.28 Q 1249.5 721.39 1234 714.28 L 1234 678.45 L 1234 679.5 C 1234 676.74 1236.24 674.5 1239 674.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>